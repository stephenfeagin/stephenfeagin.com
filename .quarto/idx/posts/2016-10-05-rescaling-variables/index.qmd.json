{"title":"Rescaling Variables with R","markdown":{"yaml":{"title":"Rescaling Variables with R","date":"2016-10-05","categories":["r","data cleaning"]},"headingText":"The arguments min and max refer to the hypothetical minimum and maximum of the initial","containsRefs":false,"markdown":"\n\nIn doing some RA work, I've needed to rescale or normalize different variables. Working with survey data, it can be very difficult to compare ordinal results across questions. Say for instance that we want to get the correlation of perceived economic status and perceived social status. The [Latinobarómetro](http://www.latinobarometro.org/lat.jsp) survey asks the first question with a scale from 0 to 10. The second item, though, is reported on a five-point scale. Moreover, modeling becomes much easier and more intuitive when we have a simple scale that runs from 0 to 1.\n\nI have also needed to rescale variables from -1 to 1. In particular, using the left-right political spectrum is difficult when it's scaled 0 to 10. Converting it to \\[-1, 1\\] puts the very liberal response at -1, the very conservative response at 1, and the middle at 0. It works much more intuitively, which can be very helpful when exploring and modeling data.\n\nIn other situations, the ordering of two different variables runs in different directions than desired. For instance, in a question asking how fair the previous election was, the survey responses range from 1 (very fair) to 5 (very unfair). If we want to look at the correlation of that question with the item asking \"How democratic is your country?\", we want the responses to move in the same direction. That is, we should expect a positive correlation between perceived fairness of the election and perceived democracy in a country. So we need to invert the scaling for the fairness question. This mainly matters because of the phrasing of the question. If it were asked \"How unfair was the last election?\", we would expect high values to indicate greater unfairness. But since the question asked about how fair it was, we intuitively want the responses to range from 0 (unfair) to 5 (fair).\n\nI've written a handful of functions that help out with these tasks. They're nothing groundbreaking, but I've used them over and over again in this type of work. Below is the code. Hope it comes in handy for someone!\n\n```{r}\n# scaling, not the minimum and maximum values in vector x, which are just given as \n# defaults.\n\nrescale_01 <- function(x, min, max){\n  # Normalizes a vector to [0,1]\n  (x - min) / (max - min)\n}\n\nrescale_negative <- function(x, min, max){\n  # Normalizes a vector to [-1, 1]\n  (((x - min) / (max - min)) - 0.5) * 2\n}\n\ninvert <- function(x, max){\n  # Inverts the scaling (i.e. the max value becomes the min -- reverses the direction)\n  max + 1 - x\n}\n```\n","srcMarkdownNoYaml":"\n\nIn doing some RA work, I've needed to rescale or normalize different variables. Working with survey data, it can be very difficult to compare ordinal results across questions. Say for instance that we want to get the correlation of perceived economic status and perceived social status. The [Latinobarómetro](http://www.latinobarometro.org/lat.jsp) survey asks the first question with a scale from 0 to 10. The second item, though, is reported on a five-point scale. Moreover, modeling becomes much easier and more intuitive when we have a simple scale that runs from 0 to 1.\n\nI have also needed to rescale variables from -1 to 1. In particular, using the left-right political spectrum is difficult when it's scaled 0 to 10. Converting it to \\[-1, 1\\] puts the very liberal response at -1, the very conservative response at 1, and the middle at 0. It works much more intuitively, which can be very helpful when exploring and modeling data.\n\nIn other situations, the ordering of two different variables runs in different directions than desired. For instance, in a question asking how fair the previous election was, the survey responses range from 1 (very fair) to 5 (very unfair). If we want to look at the correlation of that question with the item asking \"How democratic is your country?\", we want the responses to move in the same direction. That is, we should expect a positive correlation between perceived fairness of the election and perceived democracy in a country. So we need to invert the scaling for the fairness question. This mainly matters because of the phrasing of the question. If it were asked \"How unfair was the last election?\", we would expect high values to indicate greater unfairness. But since the question asked about how fair it was, we intuitively want the responses to range from 0 (unfair) to 5 (fair).\n\nI've written a handful of functions that help out with these tasks. They're nothing groundbreaking, but I've used them over and over again in this type of work. Below is the code. Hope it comes in handy for someone!\n\n```{r}\n# The arguments min and max refer to the hypothetical minimum and maximum of the initial\n# scaling, not the minimum and maximum values in vector x, which are just given as \n# defaults.\n\nrescale_01 <- function(x, min, max){\n  # Normalizes a vector to [0,1]\n  (x - min) / (max - min)\n}\n\nrescale_negative <- function(x, min, max){\n  # Normalizes a vector to [-1, 1]\n  (((x - min) / (max - min)) - 0.5) * 2\n}\n\ninvert <- function(x, max){\n  # Inverts the scaling (i.e. the max value becomes the min -- reverses the direction)\n  max + 1 - x\n}\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","editor":"visual","theme":"cosmo","title-block-banner":false,"title":"Rescaling Variables with R","date":"2016-10-05","categories":["r","data cleaning"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}