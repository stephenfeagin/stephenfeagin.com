{
  "hash": "9b4d2c4e7f69c402c4a8846d80c24718",
  "result": {
    "markdown": "---\ntitle: \"Death Saving Throw Success and Failure\"\ndate: 2023-09-08\ncategories:\n  - r\n  - \"d&d\"\n---\n\n\nIn Dungeons and Dragons, a character who loses all of their hit points is knocked unconscious. After that, they roll dice to see if they die permanently or if they stabilize. Each turn, they roll a 20-sided die (a d20). A 10 or higher is a success, and a 9 or lower is a failure. Three successes stabilizes you, and three failures kills you permanently. The probability of success in any individual roll is 55%, but what is the probability of success on the whole series of rolls? To answer this, I'll do a quick simulation.\n\nBecause we're dealing with random numbers, I will `set.seed()` to ensure replicability.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(20230908)\n```\n:::\n\n\n\nFor a single trial:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfailures <- 0\nsuccesses <- 0\nwhile (failures < 3 && successes < 3) {\n  roll <- sample(1:20, 1)\n  print(paste(\"Roll:\", roll))\n  if (roll < 10) {\n    failures <- failures + 1\n  } else {\n    successes <- successes + 1\n  }\n  print(paste(\"Successes:\", successes))\n  print(paste(\"Failures:\", failures))\n}\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Roll: 18\"\n[1] \"Successes: 1\"\n[1] \"Failures: 0\"\n[1] \"Roll: 11\"\n[1] \"Successes: 2\"\n[1] \"Failures: 0\"\n[1] \"Roll: 20\"\n[1] \"Successes: 3\"\n[1] \"Failures: 0\"\n```\n:::\n:::\n\nBrilliant, I'm alive!\n\nBut now we want to repeat that many, many times to calculate the probability of success. I'm going to populate a vector called `outcomes` with whether each trial resulted in a success -- `TRUE` means three successful saves, `FALSE` means three failed saves.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn <- 1e6\n\noutcomes <- replicate(n, {\n  failures <- 0\n  successes <- 0\n  while (failures < 3 && successes < 3) {\n    roll <- sample(1:20, 1)\n    if (roll < 10) {\n      failures <- failures + 1\n    } else {\n      successes <- successes + 1\n    }\n  }\n  successes == 3\n})\n\nmean(outcomes)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.592789\n```\n:::\n:::\n\n\nAfter one million repetitions, it looks like the probability of success is about 59%. Better than average, but still...not great when you're talking life and death.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}